"use strict";const e=require("../vendor.js");const s=new class{constructor(){this.baseUrl="https://code.itndedu.com/pz"}getUserInfo(){e.index.login({success:e=>{this.request({url:"/auth/wxLogin",data:{code:e.code},success:e=>{console.log(e,"res")}})}})}request(s={showloading:!1}){if(!s.url)return!1;e.index.request({url:this.baseUrl+s.url,data:s.data?s.data:{},header:s.header?s.header:{},method:s.method?s.method:"GET",success:e=>{1e4!=e.data.code?s.fail&&"function"==typeof s.fail&&s.fail(e):s.success&&"function"==typeof s.success&&s.success(e)}})}showloading(){e.index.getStorageSync("isShowLoading")&&(e.index.hideLoading(),e.index.setStorageSync("isShowLoading",!1)),e.index.showLoading({title:"加载中...",complete:()=>{e.index.setStorageSync("isShowLoading",!0)},fail:()=>{e.index.setStorageSync("isShowLoading",!1)}})}};exports.Utils=s;
