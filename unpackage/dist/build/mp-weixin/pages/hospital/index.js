"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js");if(!Array){(e.resolveComponent("navBar")+e.resolveComponent("share"))()}Math||((()=>"../../components/navBar/navBar.js")+(()=>"../../components/share/share.js"))();const t={__name:"index",setup(t){const n=getApp(),i=e.ref({}),o=e.ref([]);e.onLoad((e=>{n.globalData.utils.request({url:"/Hospital/index",data:{hid:e.hid},success:e=>{console.log(e),i.value=e.data.data.hospital,o.value=e.data.data.services}})}));const r=e.ref(""),s=e=>{r.value=e.detail.navBarHeight},l=e.ref(!1),u=()=>{l.value=!0},d=()=>{const a=v(i.value.lng,i.value.lat),{qmap_key:t}=e.index.getStorageSync("cfg"),o=n.globalData.name,r=JSON.stringify({name:i.value.name,latitude:a.lat,longitude:a.lng});e.index.navigateTo({url:"plugin://routePlan/index?key="+t+"&referer="+o+"&endPoint="+r+"&navigation=1"})},v=(e,a)=>{let t=52.35987755982988,n=e-.0065,i=a-.006,o=Math.sqrt(n*n+i*i)-2e-5*Mathsin(i*t),r=Math.atan2(i,n)-3e-6*Math.cos(n*t);return{lng:o*Math.cos(r),lat:o*Math.sin(r)}},c=a=>{e.index.navigateTo({url:"../service/index?hid="+i.value.id+"&svid="+a.currentTarget.dataset.svid})};return(t,n)=>({a:e.o(s),b:e.p({"title-text":"",isHeight:!1,isWhite:!0,background:"none"}),c:i.value.avatar_url,d:i.value.avatar_url,e:e.t(i.value.name),f:e.t(i.value.rank),g:e.t(i.value.label),h:e.o(u),i:a._imports_0$3,j:e.t(i.value.city),k:e.t(i.value.district),l:e.t(i.value.address),m:e.o(d),n:e.f(o.value,((a,t,n)=>e.e({a:1==a.use_switch},1==a.use_switch?{b:a.logo_image?a.logo_image_url:"../../static/images/avatar.jpg",c:e.t(a.name),d:e.t(a.intro),e:e.t(a.price)}:{},{f:e.o(c,t),g:a.id,h:t}))),o:e.s("position:absolute;top:"+r.value+"rpx;padding-top:65rpx;overflow:hidden;width:100%;"),p:e.p({shareModal:l.value})})}};wx.createPage(t);
