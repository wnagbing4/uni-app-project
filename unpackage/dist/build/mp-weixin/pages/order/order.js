"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js");if(!Array){(e.resolveComponent("counter")+e.resolveComponent("uni-popup"))()}Math||((()=>"../../components/counter/counter.js")+(()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js"))();const t={__name:"order",setup(t){e.onLoad((e=>{v(e)}));const o=e.ref(),r=()=>{o.value.open("center");const a=new e.UQRCode;a.data=s.value.code_url,a.size=150,a.make();var t=e.index.createCanvasContext("qrcode");a.canvasContext=t,a.drawCanvas()},u=()=>{e.index.switchTab({url:"../order/index"})},n=getApp(),s=e.ref({}),l=e.computed((()=>({"待支付":"10","待服务":"20","已完成":"30","已取消":"40"}[s.value.trade_state]))),c=()=>{v()},v=a=>{n.globalData.utils.request({url:"/order/detail",header:{token:e.index.getStorageSync("token")},data:{oid:a.oid},success:e=>{console.log(e,"订单详情"),s.value=e.data.data}})},d=a=>{e.index.makePhoneCall({phoneNumber:a.currentTarget.dataset.tel})};return(t,n)=>e.e({a:a._imports_0$4,b:e.n("od-jd od-jd-"+l.value),c:10==l.value},10==l.value?{d:e.o(c),e:e.p({second:s.value._exp_time}),f:e.t(s.value.price),g:e.o(r)}:{},{h:20==l.value},20==l.value?e.e({i:0==s.value.service_state},(s.value.service_state,{}),{j:1==s.value.service_state},(s.value.service_state,{})):{},{k:30==l.value},(l.value,{}),{l:40==l.value},(l.value,{}),{m:20==l.value},20==l.value?{n:s.value._staff.avatar_url,o:e.t(s.value._staff.nickname),p:e.o(d),q:s.value._staff.mobile}:{},{r:e.o(u),s:a._imports_0$1,t:e.sr(o,"963de63e-1",{k:"qrcodePopup"}),v:e.p({type:"center","is-mask-click":!1,"background-color":"#fff"})})}};wx.createPage(t);
